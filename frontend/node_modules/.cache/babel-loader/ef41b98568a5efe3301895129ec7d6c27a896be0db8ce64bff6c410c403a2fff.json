{"ast":null,"code":"var _jsxFileName = \"/Users/polinazherikova/expense-tracker/frontend/src/pages/ExpenseFormPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport ExpenseForm from \"../components/ExpenseForm\";\nimport ExpenseList from \"../components/ExpenseList\";\nimport Total from \"../components/Total\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ExpenseFormPage({\n  user,\n  expenses,\n  setExpenses\n}) {\n  _s();\n  useEffect(() => {\n    if (!user) return;\n    fetch(`http://localhost:8081/expenses/${user.id}`).then(res => res.json()).then(data => setExpenses(data)).catch(err => console.error(err));\n  }, [user]);\n  const addExpense = async item => {\n    if (!user) return;\n    try {\n      const res = await fetch(\"http://localhost:8081/expense\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...item,\n          userId: user.id\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setExpenses([{\n          ...item,\n          id: data.id\n        }, ...expenses]);\n      } else {\n        alert(data.error || \"Помилка при додаванні витрати\");\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const deleteExpense = async id => {\n    try {\n      const res = await fetch(`http://localhost:8081/expense/${id}`, {\n        method: \"DELETE\"\n      });\n      if (res.ok) setExpenses(expenses.filter(e => e.id !== id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"expense-page\",\n    children: [/*#__PURE__*/_jsxDEV(ExpenseForm, {\n      onAdd: addExpense\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ExpenseList, {\n      list: expenses,\n      onDelete: deleteExpense\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Total, {\n      list: expenses\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(ExpenseFormPage, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ExpenseFormPage;\nvar _c;\n$RefreshReg$(_c, \"ExpenseFormPage\");","map":{"version":3,"names":["React","useEffect","ExpenseForm","ExpenseList","Total","jsxDEV","_jsxDEV","ExpenseFormPage","user","expenses","setExpenses","_s","fetch","id","then","res","json","data","catch","err","console","error","addExpense","item","method","headers","body","JSON","stringify","userId","ok","alert","deleteExpense","filter","e","className","children","onAdd","fileName","_jsxFileName","lineNumber","columnNumber","list","onDelete","_c","$RefreshReg$"],"sources":["/Users/polinazherikova/expense-tracker/frontend/src/pages/ExpenseFormPage.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport ExpenseForm from \"../components/ExpenseForm\";\nimport ExpenseList from \"../components/ExpenseList\";\nimport Total from \"../components/Total\";\n\nexport default function ExpenseFormPage({ user, expenses, setExpenses }) {\n  useEffect(() => {\n    if (!user) return;\n    fetch(`http://localhost:8081/expenses/${user.id}`)\n      .then(res => res.json())\n      .then(data => setExpenses(data))\n      .catch(err => console.error(err));\n  }, [user]);\n\n  const addExpense = async (item) => {\n    if (!user) return;\n    try {\n      const res = await fetch(\"http://localhost:8081/expense\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ...item, userId: user.id }),\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setExpenses([{ ...item, id: data.id }, ...expenses]);\n      } else {\n        alert(data.error || \"Помилка при додаванні витрати\");\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const deleteExpense = async (id) => {\n    try {\n      const res = await fetch(`http://localhost:8081/expense/${id}`, { method: \"DELETE\" });\n      if (res.ok) setExpenses(expenses.filter(e => e.id !== id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <div className=\"expense-page\">\n      <ExpenseForm onAdd={addExpense} />\n      <ExpenseList list={expenses} onDelete={deleteExpense} />\n      <Total list={expenses} />\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}